(this["webpackJsonpat-app"]=this["webpackJsonpat-app"]||[]).push([[0],{100:function(e,t,a){e.exports={projectheader:"ProjectsHeader_projectheader__2DJ4T"}},101:function(e,t,a){e.exports={Projects__projects:"ProjectsWrapper_Projects__projects__2DN2H"}},103:function(e,t,a){e.exports={LoadingIcon:"LoadingIcon_LoadingIcon__1WT3N",rotate:"LoadingIcon_rotate__1K2qW"}},105:function(e,t,a){e.exports={Projects__back:"Projects_Projects__back__2unYf"}},109:function(e,t,a){e.exports={votebox:"VoteBox_votebox__3Ehlt"}},111:function(e,t,a){e.exports={ProjectVideo:"ProjectVideos_ProjectVideo__2w25p"}},112:function(e,t,a){e.exports={CourseLinkWrapper:"CourseLinkWrapper_CourseLinkWrapper__UWcE5"}},113:function(e,t,a){e.exports={app:"App_app__1kX79"}},122:function(e,t,a){e.exports=a(258)},127:function(e,t,a){},14:function(e,t,a){e.exports={socials:"Socials_socials__2PbvA",socials__icon:"Socials_socials__icon__1PRmb",socials__icon_pinterest:"Socials_socials__icon_pinterest__3Ju0u",socials__icon_twitter:"Socials_socials__icon_twitter__3lLMw",socials__icon_linkedin:"Socials_socials__icon_linkedin__9IVei",socials__icon_instagram:"Socials_socials__icon_instagram__UEDFv",socials__icon_profile:"Socials_socials__icon_profile__2nHE_"}},151:function(e,t,a){},152:function(e,t,a){},18:function(e,t,a){e.exports={Filter:"Filter_Filter__1E5f1",Filter__inner:"Filter_Filter__inner__32lgU",Filter__inner_isopen:"Filter_Filter__inner_isopen__lwcSa",Filter__toggle:"Filter_Filter__toggle__LexZK",Filter__toggle_isactive:"Filter_Filter__toggle_isactive__B4cLl",Filter__submit:"Filter_Filter__submit__2f8Bm",Filter_section__checkboxes:"Filter_Filter_section__checkboxes__lj5cl",Filter__clearbtn:"Filter_Filter__clearbtn__v_mf1"}},258:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(8),s=a.n(i),o=(a(127),a(3)),l=a(4),c=a(5),p=a(6),_=a(20),u=a(262),d=a(16),m=a.n(d),h=a(24),g=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=null;return this.props.app_loaded&&(e=this.props.app_details.show_course_index?"event"===this.props.app_details.app_type?n.a.createElement(h.a,{to:"/event-courses"}):n.a.createElement(h.a,{to:"/school-courses"}):n.a.createElement(h.a,{to:"/projects"})),e}}]),a}(r.Component),f=a(98),j=a(18),v=a.n(j),b=a(99),E=a.n(b),k=function(e){return n.a.createElement("div",{className:E.a.FilterCheckbox},n.a.createElement("input",{type:"checkbox",checked:!!e.filtersMap.get(e.id)&&e.filtersMap.get(e.id),name:e.id,onChange:e.handleUpdateFilters,id:"at-checkbox-"+e.id}),n.a.createElement("label",{htmlFor:"at-checkbox-"+e.id},e.name))},x=function(e){var t=e.filterOpen?v.a.Filter__inner_isopen:"",a=e.filterOpen?v.a.Filter__toggle_isactive:"",r=null,i="Clear";"competition"!==e.app_type&&(i+=" filters"),e.selectedFilters&&(r=n.a.createElement("button",{onClick:e.clearFilters,className:v.a.Filter__clearbtn},i));var s=e.filter_sectors.map((function(t){var a=t.specialisms.map((function(t){return n.a.createElement(k,{handleUpdateFilters:e.handleUpdateFilters,id:t.id,filtersMap:e.filtersMap,name:t.name,key:t.id})}));return n.a.createElement("div",{key:t.sector.id,className:v.a.Filter__section},n.a.createElement("h3",null,t.sector.name),n.a.createElement("div",{className:v.a.Filter_section__checkboxes},a))}));return e.app_type,n.a.createElement("div",{className:v.a.Filter},n.a.createElement("button",{type:"button",onClick:e.clickToggle,className:a+" "+v.a.Filter__toggle},"Filter by specialism"," ",n.a.createElement("i",null)),r,n.a.createElement("div",{className:t+" "+v.a.Filter__inner},s,n.a.createElement("button",{type:"button",onClick:function(){return e.onSubmit()},className:v.a.Filter__submit},"Filter results")))},y=a(42),P=a.n(y),C=a(100),S=a.n(C),w=function(e){var t=P.a.sanitize,a=null;e.title&&(a=n.a.createElement("h2",{dangerouslySetInnerHTML:{__html:t(e.title)}}));var r=null;return e.text&&(r=n.a.createElement("div",{dangerouslySetInnerHTML:{__html:t(e.text)}})),n.a.createElement("div",{className:S.a.projectheader},a,r,e.children)},O=a(9),N=a(101),F=a.n(N),L=a(21),M=a.n(L),U=a(102),I=(a(148),function(e){return n.a.createElement(U.LazyLoadImage,{alt:e.title,src:e.image,effect:"opacity"})}),B=a(66),H=a.n(B),T=function(e){var t=null;e.userSchool&&(t=n.a.createElement("p",null,n.a.createElement("strong",null,"University/School:")," ",e.userSchool));var a=null;return e.single&&(a=H.a.projectmeta_single),n.a.createElement("div",{className:H.a.projectmeta+" "+a},n.a.createElement("p",null,n.a.createElement("strong",null,"Specialism:")," ",e.specialisms),n.a.createElement("p",null,n.a.createElement("strong",null,"Location:")," ",e.userLocation),t)},W=a(30),A=a.n(W),D=function(e){return n.a.createElement("div",{className:A.a.projectpreview+" projectpreview"},n.a.createElement("div",null,n.a.createElement(_.b,{to:"/project/"+e.slug,className:A.a.projectpreview__imagelink},n.a.createElement(I,{image:e.image,width:"840",height:"628",title:e.title}))),n.a.createElement("div",{className:A.a.projectpreview__text},n.a.createElement("h3",null,e.title),n.a.createElement("p",{className:A.a.projectpreview__text__p},e.firstname," ",e.surname)),n.a.createElement("div",{className:A.a.projectpreview__meta},n.a.createElement(T,{specialisms:e.specialisms,userLocation:e.userLocation})))},G=a(103),V=a.n(G),q=function(){return n.a.createElement("div",{className:V.a.LoadingIcon})},R=function(){return n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("h3",null,"There was an error loading projects - Please try again."))},z=function(){return n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("h3",null,"Your filter selections returned no results. Please chose some other options"))},J=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).content=null,e.queries={"(min-width: 550px) and (max-width: 799px)":"medium","(min-width: 800px) and (max-width: 1199px)":"large","(min-width: 1200px) and (max-width: 1499px)":"xlarge","(min-width: 1500px)":"xxlarge"},e}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.projects!==this.props.projects}},{key:"render",value:function(){var e=this,t=function(t){var a=M()(e.queries),r=Object(O.a)(a,2),i=Object(O.a)(r[0],1)[0],s=void 0===i?"small":i,o=r[1];return n.a.createElement("div",{"data-bp":s,className:F.a.Projects__projects},o,t.children)};return this.props.loadingError?this.content=n.a.createElement(R,null):this.props.projects?0===this.props.projects.length?this.content=n.a.createElement(z,null):this.props.projects.length>0&&(this.content=this.props.projects.map((function(e){return n.a.createElement(D,{key:e.id,title:e.title,firstname:e.firstname,surname:e.surname,image:e.image,slug:e.slug,specialisms:e.specialisms,userLocation:e.location})}))):this.content=n.a.createElement(q,null),n.a.createElement(t,null,this.content)}}]),a}(r.Component),Y=a(104),X=a.n(Y),Q=a(105),K=a.n(Q),Z=(a(151),function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loadingError:null,isLoaded:!1,filterOpen:!1},e.toggleFilterHandler=function(){e.setState((function(e){return{filterOpen:!e.filterOpen}}))},e.clearFiltersHandler=function(){e.props.selectFiltersStateHandler(!1),e.props.filtersMapClear(),e.props.updateProjectPageNumber(1),e.props.projectUpdater(!1)},e.closeFilterHandler=function(){e.setState({filterOpen:!1})},e.handleFilterSubmit=function(){e.props.projectUpdater(!1),e.props.updateProjectPageNumber(1),e.setState({isLoaded:!1})},e.handlePageChange=function(t){e.props.projectUpdater(!1),e.props.updateProjectPageNumber(t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getListings()}},{key:"componentDidUpdate",value:function(e){this.props.projects!==e.projects&&this.getListings()}},{key:"getListings",value:function(){var e=this;if(this.props.projects)this.setState({isLoaded:!0});else{var t="https://artsthread.com/wp-json/artsthread/v1/";"event"===this.props.app_details.app_type?t+="app-projects?event_id="+this.props.app_details.event_id:"school"===this.props.app_details.app_type?t+="app-projects?school_id="+this.props.app_details.school_id:t+="app-projects?competition_id="+this.props.app_details.competition_id,t+="&graduation_year="+this.props.app_details.graduation_year;var a=this.props.projectsPage-1;if(a>0&&(t+="&page="+a),t+="&ppp="+this.props.app_details.projects_per_page,t+="&seed="+this.props.seed,this.props.location.search)t+="&course_id="+new URLSearchParams(this.props.location.search).get("course_id");if(this.props.filtersMap){var r=this.props.filtersMap;r.forEach((function(e,t){!1===e&&r.delete(t)}));var n,i=[],s=Object(f.a)(r.keys());try{for(s.s();!(n=s.n()).done;){var o=n.value;i.push(o)}}catch(l){s.e(l)}finally{s.f()}i.length>0?(this.props.selectFiltersStateHandler(i),t+="&specialisms="+i):this.props.selectFiltersStateHandler(!1)}this.props.app_details.override_filters&&(t+="&override_filters="+this.props.app_details.override_filters),m.a.get(t).then((function(t){var a=t.data.projects;e.setState({isLoaded:!0}),e.props.projectUpdater(a),e.props.projectTotalUpdater(t.data.count);var r=document.getElementById("root").getBoundingClientRect().top;setTimeout((function(){window.scrollTo(0,r)}),10)})).catch((function(){e.setState({loadingError:!0})})),this.closeFilterHandler()}}},{key:"render",value:function(){var e=this.state.loadingError,t=this.props.projects,a=null;this.props.location.search&&(a=n.a.createElement("button",{onClick:this.props.history.goBack,className:K.a.Projects__back},n.a.createElement("i",null)," Back to courses"));var r=null;this.props.app_loaded&&(r=n.a.createElement(w,{title:this.props.app_details.listings_title,text:this.props.app_details.listings_text},a,n.a.createElement(x,{filter_sectors:this.props.app_details.filter_sectors,onSubmit:this.handleFilterSubmit,filtersMap:this.props.filtersMap,handleUpdateFilters:this.props.filtersMapUpdate,clickToggle:this.toggleFilterHandler,filterOpen:this.state.filterOpen,clickCloseFilter:this.closeFilterHandler,selectedFilters:this.props.selectedFilters,clearFilters:this.clearFiltersHandler,app_type:this.props.app_details.app_type})));var i=null;return this.props.app_details.projects_per_page<this.props.totalProjectCount&&this.props.projects&&(i=n.a.createElement(X.a,{activePage:this.props.projectsPage,itemsCountPerPage:+this.props.app_details.projects_per_page,totalItemsCount:this.props.totalProjectCount,pageRangeDisplayed:5,onChange:this.handlePageChange,innerClass:"Pagination",activeLinkClass:"active",hideDisabled:!0})),n.a.createElement("div",{className:"Projects"},r,n.a.createElement(J,{projects:t,loadingError:e}),i)}}]),a}(r.Component)),$=a(31),ee=(a(152),a(38)),te=a.n(ee),ae=(a(153),a(106)),re=a.n(ae),ne=a(114),ie=function(e){var t=Object(r.useState)(0),a=Object(O.a)(t,2),i=a[0],s=a[1],o=e.images.map((function(e,t){return e.image_medium})),l=e.images.map((function(t,a){return n.a.createElement("div",{key:t.image_medium,className:e.slideClass},n.a.createElement("img",{src:t.image_medium,alt:"",className:e.imageClass,onClick:function(){return e.toggleLightbox(a)}}))})),c=null;return i&&(c="slick-fadein"),n.a.createElement(ne.a,{images:o,onSuccess:function(){setTimeout((function(){s({imagesLoaded:!0})}),200)}},n.a.createElement(re.a,Object.assign({},{variableWidth:!0,arrows:!0,infinite:!0,draggable:!1},{className:e.sliderClass+" "+c}),l))},se=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).queries={"(min-width: 375px) and (max-width: 768px)":"medium","(min-width: 768px) and (max-width: 1199px)":"large","(min-width: 1200px)":"xlarge"},e}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=function(t){var a=M()(e.queries),r=Object(O.a)(a,2),i=Object(O.a)(r[0],1)[0],s=void 0===i?"small":i,o=r[1];return n.a.createElement("div",{"data-bp":s,className:te.a.GallerySliderWrapper},o,t.children)};return n.a.createElement(t,null,n.a.createElement(ie,{images:this.props.images,sliderClass:te.a.GallerySliderWrapper__slick,slideClass:te.a.GallerySliderWrapper__slide,imageClass:te.a.GallerySliderWrapper__image,toggleLightbox:this.props.toggleLightbox}))}}]),a}(r.Component),oe=a(51),le=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={selectedIndex:0,lightboxIsOpen:!1,imagesLoaded:!1},e.toggleLightbox=function(t){e.setState((function(e){return{lightboxIsOpen:!e.lightboxIsOpen,selectedIndex:t}}))},e.modalImages=e.props.images.map((function(e){return{source:e.image_medium}})),e}return Object(l.a)(a,[{key:"render",value:function(){if(this.props.images.size<1)return!1;var e=this.state,t=e.selectedIndex,a=e.lightboxIsOpen;return n.a.createElement(r.Fragment,null,n.a.createElement(se,{images:this.props.images,toggleLightbox:this.toggleLightbox}),n.a.createElement(oe.b,null,a?n.a.createElement(oe.a,{onClose:this.toggleLightbox,allowFullscreen:!1,styles:{blanket:function(e){return Object($.a)({},e,{background:"rgba(0, 0, 0, 0.9)"})}}},n.a.createElement(oe.c,{currentIndex:t,views:this.modalImages,styles:{container:function(e){return Object($.a)({},e,{height:"100vh"})},view:function(e){return Object($.a)({},e,{alignItems:"center",display:"flex ",height:"calc(100vh - 54px)",justifyContent:"center","& > img":{maxHeight:"calc(100vh - 94px)"}})},navigationPrev:function(e){return Object($.a)({},e,{backgroundColor:"#000",borderRadius:0,":hover":{outline:"none",backgroundColor:"#444"},":active":{outline:"none",backgroundColor:"#444"}})},navigationNext:function(e){return Object($.a)({},e,{backgroundColor:"#000",borderRadius:0,":hover":{outline:"none",backgroundColor:"#444"},":active":{outline:"none",backgroundColor:"#444"}})}}})):null))}}]),a}(r.Component),ce=a(25),pe=a(261),_e=a(109),ue=a.n(_e),de=a(27),me=a.n(de),he=function(e){var t=null;return e.isDisabled&&(t=n.a.createElement("p",null,"Subscribing...")),n.a.createElement("form",{className:me.a.email_form,onSubmit:e.handleEmailForm},n.a.createElement("p",null,"To be kept in the loop about the competition winners please enter your details below:"),n.a.createElement("input",{type:"text",placeholder:"Full name",required:!0,className:me.a.email_form__email,onChange:e.inputNameChange}),n.a.createElement("div",{className:me.a.email_form__fields},n.a.createElement("input",{type:"email",placeholder:"Email address",required:!0,className:me.a.email_form__email,onChange:e.inputChange}),n.a.createElement("button",{type:"submit",className:me.a.email_form__submit,disabled:e.isDisabled},"GO")),t,n.a.createElement("input",{type:"checkbox",name:"artsthread-updates",id:"artsthread-updates",onChange:e.checkboxChange}),n.a.createElement("label",{htmlFor:"artsthread-updates",className:me.a.email_form__checkboxlabel},"Also keep me informed about ARTSTHREAD NEWS."))},ge=a(68),fe=a.n(ge),je=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var r;Object(o.a)(this,a),(r=t.call(this,e)).state={hasVoted:!1,emailSubmitted:!1,previousVote:!1,voteSent:!1,userEmail:!1,showThankyou:!1};var n=e.cookies,i=n.get("specialism_id_"+r.props.specialism_id),s=n.get("hasSignedup"),l={};return i&&(l.previousVote=!0),s&&(l.hasSignedup=!0),r.state=l,r.onClick=r.voteHandler.bind(Object(ce.a)(r)),r.signUpHandler=r.signUpHandler.bind(Object(ce.a)(r)),r.handleInput=r.handleInput.bind(Object(ce.a)(r)),r.handleNameInput=r.handleNameInput.bind(Object(ce.a)(r)),r.handleCheckbox=r.handleCheckbox.bind(Object(ce.a)(r)),r}return Object(l.a)(a,[{key:"voteHandler",value:function(){var e=this;this.setState({voteSent:!0});m.a.post("https://artsthread.com/wp-json/artsthread/v1/app-vote",fe.a.stringify({project_id:this.props.project.id,competition_id:this.props.competition_id,specialism_id:this.props.specialism_id})).then((function(t){"success"===t.data&&(e.props.cookies.set("specialism_id_"+e.props.specialism_id,e.props.project.id,{path:"/"}),e.setState({hasVoted:!0}))})).catch((function(e){alert("There was an error please try again")}))}},{key:"signUpHandler",value:function(e){var t=this;e.preventDefault(),this.setState({emailSubmitted:!0});m.a.post("https://artsthread.com/wp-json/artsthread/v1/app-signup",fe.a.stringify({user_email:this.state.userEmail,user_name:this.state.userName,newsletter:this.state.artsthreadNewsletter})).then((function(e){"success"===e.data&&(t.props.cookies.set("hasSignedup",!0,{path:"/"}),t.setState({hasSignedup:!0}),t.setState({emailSubmitted:!1}),t.setState({showThankyou:!0}))})).catch((function(e){alert("There was an error signing you up please try again"),t.setState({emailSubmitted:!1})}))}},{key:"handleInput",value:function(e){var t=e.target.value;this.setState({userEmail:t})}},{key:"handleNameInput",value:function(e){var t=e.target.value;this.setState({userName:t})}},{key:"handleCheckbox",value:function(e){var t=e.target;this.setState({artsthreadNewsletter:t.checked})}},{key:"render",value:function(){var e=this,t=null;if(this.state.previousVote)t=n.a.createElement("button",{type:"button",onClick:function(){e.props.goBack()},className:"at-app-btn at-app-btn--red"},n.a.createElement("i",null),"Already voted in this specialism - Continue voting");else if(this.state.hasVoted)t=n.a.createElement("button",{className:"at-app-btn",type:"button",onClick:function(){e.props.goBack()}},n.a.createElement("i",null),"Thanks for your vote - Continue voting");else{var a="Vote for this project";this.state.voteSent&&(a="Voting..."),t=n.a.createElement("button",{onClick:this.onClick,disabled:this.state.voteSent,className:"at-app-btn"},a)}var r=null;return this.state.hasVoted&&!this.state.hasSignedup?r=n.a.createElement(he,{handleEmailForm:this.signUpHandler,inputChange:this.handleInput,inputNameChange:this.handleNameInput,checkboxChange:this.handleCheckbox,isDisabled:this.state.emailSubmitted,hasSignedup:this.state.hasSignedup}):this.state.hasSignedup&&this.state.showThankyou&&(r=n.a.createElement("p",null,"Thank you for signing up!")),n.a.createElement("div",{className:ue.a.votebox},t,r)}}]),a}(r.Component),ve=(Object(pe.a)(je),a(69)),be=a.n(ve),Ee=function(e){return n.a.createElement("div",{className:be.a.BackButton},n.a.createElement("button",{type:"button",onClick:function(){e.goBack()},className:be.a.BackButton__link},n.a.createElement("i",null),"Back to projects"))},ke=a(23),xe=a(14),ye=a.n(xe),Pe=function(e){var t=function(t){t.preventDefault();var a=t.currentTarget.getAttribute("href");ke.a.event({category:"Contacted User",action:"Contacted User",label:e.artistName}),window.open(a,"_blank")},a=null;e.project.linkedin_url&&(a=n.a.createElement("a",{href:e.project.linkedin_url,rel:"noopener noreferrer",target:"_blank",onClick:t,className:ye.a.socials__icon+" "+ye.a.socials__icon_linkedin},"Linkedin"));var r=null;e.project.instagram_url&&(r=n.a.createElement("a",{href:e.project.instagram_url,rel:"noopener noreferrer",target:"_blank",onClick:t,className:ye.a.socials__icon+" "+ye.a.socials__icon_instagram},"Instagram"));var i=null;e.project.pinterest_url&&(i=n.a.createElement("a",{href:e.project.pinterest_url,rel:"noopener noreferrer",target:"_blank",onClick:t,className:ye.a.socials__icon+" "+ye.a.socials__icon_pinterest},"Pinterest"));var s=null;e.project.twitter_url&&(s=n.a.createElement("a",{href:e.project.twitter_url,rel:"noopener noreferrer",target:"_blank",onClick:t,className:ye.a.socials__icon+" "+ye.a.socials__icon_twitter},"Twitter"));var o=n.a.createElement("a",{href:e.project.profile_url,rel:"noopener noreferrer",target:"_blank",onClick:t,className:ye.a.socials__icon+" "+ye.a.socials__icon_profile},"Artsthread Profile");return"competition"===e.app_details.app_type?n.a.createElement("div",{className:ye.a.socials},o):n.a.createElement("div",{className:ye.a.socials},a,r,i,s)},Ce=a(26),Se=a.n(Ce),we=function(e){ke.a.set({page:e}),ke.a.pageview(e)},Oe=a(110),Ne=a.n(Oe),Fe=a(111),Le=a.n(Fe),Me=function(e){return!!e.videos&&e.videos.map((function(e,t){return n.a.createElement("div",{className:Le.a.ProjectVideo,key:t},n.a.createElement(Ne.a,{url:e.vidurl,controls:!0}))}))},Ue=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={project:null,isLoaded:!1,loadingError:!1},e.queries={"(min-width: 768px)":"medium"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="https://artsthread.com/wp-json/artsthread/v1/app-project?slug="+this.props.match.params.slug;"competition"===this.props.app_details.app_type&&(t=t+="&competition_id="+this.props.app_details.competition_id),m.a.get(t).then((function(t){var a=t.data;if(a.length>0){e.setState({project:a}),e.setState({isLoaded:!0});var r=e.props.location.pathname;we(r)}else e.setState({loadingError:!0})})).catch((function(t){e.setState({loadingError:!0})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loadingError,r=t.isLoaded,i=function(t){var a=M()(e.queries),r=Object(O.a)(a,2),i=Object(O.a)(r[0],1)[0],s=void 0===i?"small":i,o=r[1];return n.a.createElement("div",{"data-bp":s,className:Se.a.Project},o,t.children)},s=null;if(a)s=n.a.createElement("div",null,"Error loading project");else if(r){if(r){var o=this.state.project[0],l=P.a.sanitize;this.props.app_details.app_type,s=n.a.createElement(i,null,n.a.createElement(Ee,{goBack:this.props.history.goBack}),n.a.createElement(le,{images:o.images}),n.a.createElement("div",{className:Se.a.Project__flex},n.a.createElement("div",{className:Se.a.Project__flex_col1},n.a.createElement("h3",{className:Se.a.Project__title},o.title),n.a.createElement("p",{className:Se.a.Project__title__sub},o.firstname," ",o.surname),n.a.createElement(T,{specialisms:o.specialisms,userLocation:o.location,userSchool:o.school,single:"true"}),n.a.createElement(Pe,{project:o,artistName:o.firstname+" "+o.surname,app_details:this.props.app_details}),null),n.a.createElement("div",{className:Se.a.Project__flex_col2},n.a.createElement("div",{className:Se.a.Project__content},n.a.createElement("p",{dangerouslySetInnerHTML:{__html:l(o.content)}}),n.a.createElement(Me,{videos:o.videos})))))}}else this.content=n.a.createElement(q,null);return s}}]),a}(r.Component),Ie=a(112),Be=a.n(Ie),He=a(50),Te=a.n(He),We=function(e){var t=null;return e.image&&(t=n.a.createElement(I,{image:e.image,alt:e.name})),n.a.createElement("div",null,n.a.createElement(_.b,{className:Te.a.CourseLink,to:"/projects/?course_id="+e.id},n.a.createElement("div",{className:Te.a.CourseLink__media},t),n.a.createElement("div",{className:Te.a.CourseLink__text},n.a.createElement("h3",null,e.name),n.a.createElement("p",null,e.school))))},Ae=function(e){var t={"(min-width: 550px) and (max-width: 799px)":"medium","(min-width: 800px) and (max-width: 1199px)":"large","(min-width: 1200px) and (max-width: 1499px)":"xlarge","(min-width: 1500px)":"xxlarge"};console.log(e.courses);var a=e.courses.map((function(e){return n.a.createElement(We,{key:e.id,id:e.id,name:e.name,school:e.school,image:e.image})})),r=function(e){var a=M()(t),r=Object(O.a)(a,2),i=Object(O.a)(r[0],1)[0],s=void 0===i?"small":i,o=r[1];return n.a.createElement("div",{"data-bp":s,className:Be.a.CourseLinkWrapper},o,e.children)};return n.a.createElement(r,null,a)},De=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isLoaded:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="https://artsthread.com/wp-json/artsthread/v1/"+this.props.apiEndpoint+"?id="+this.props.queryId;m.a.get(t).then((function(t){var a=t.data;e.setState({courses:a}),e.setState({isLoaded:!0})})).catch((function(t){e.setState({loadingError:!0})})),this.props.projectUpdater(!1),this.props.updateProjectPageNumber(1),this.props.filtersMapClear()}},{key:"render",value:function(){var e=null;this.props.app_loaded&&(e=n.a.createElement(w,{title:this.props.app_details.index_title,text:this.props.app_details.index_text}));var t=n.a.createElement(q,null);return this.state.isLoaded&&(t=n.a.createElement(Ae,{courses:this.state.courses})),n.a.createElement(r.Fragment,null,e,t)}}]),a}(r.Component),Ge=function(e){return n.a.createElement(De,Object.assign({},e,{apiEndpoint:"app-school-courses",indexType:"school",queryId:e.app_details.school_id}))},Ve=function(e){return n.a.createElement(De,Object.assign({},e,{apiEndpoint:"app-event-courses",indexType:"course",queryId:e.app_details.event_id}))},qe=function(e){return n.a.createElement(h.d,null,n.a.createElement(h.b,{path:"/project/:slug",exact:!0,render:function(t){return n.a.createElement(Ue,Object.assign({},t,{app_loaded:e.app_loaded,app_details:e.app_details}))}}),n.a.createElement(h.b,{path:"/projects",exact:!0,render:function(t){return n.a.createElement(Z,Object.assign({},t,{app_details:e.app_details,app_loaded:e.app_loaded,seed:e.random_seed,projects:e.projects,projectUpdater:e.projectUpdater,filtersMap:e.filtersMap,filtersMapUpdate:e.filtersMapUpdate,selectFiltersStateHandler:e.selectFiltersStateHandler,selectedFilters:e.selectedFilters,filtersMapClear:e.filtersMapClear,updateProjectPageNumber:e.updateProjectPageNumber,projectsPage:e.projectsPage,totalProjectCount:e.totalProjectCount,projectTotalUpdater:e.projectTotalUpdater}))}}),n.a.createElement(h.b,{path:"/event-courses",exact:!0,render:function(){return n.a.createElement(Ve,{app_details:e.app_details,app_loaded:e.app_loaded,updateProjectPageNumber:e.updateProjectPageNumber,projectUpdater:e.projectUpdater,filtersMapClear:e.filtersMapClear})}}),n.a.createElement(h.b,{path:"/school-courses",exact:!0,render:function(){return n.a.createElement(Ge,{app_details:e.app_details,app_loaded:e.app_loaded,updateProjectPageNumber:e.updateProjectPageNumber,projectUpdater:e.projectUpdater,filtersMapClear:e.filtersMapClear})}}),n.a.createElement(h.b,{path:"/",exact:!0,render:function(){return n.a.createElement(g,{app_details:e.app_details,app_loaded:e.app_loaded})}}))},Re=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={app_details:[],random_seed:+new Date,projects:!1,filtersMap:new Map,filtersArray:[],projectsPage:1},e.handleProjectsState=function(t){e.setState({projects:t})},e.totalProjectsHandler=function(t){e.setState({totalProjectCount:t})},e.selectFiltersStateHandler=function(t){e.setState({filtersArray:t})},e.handleProjectPaginationChange=function(t){e.setState({projectsPage:t})},e.filtersMapUpdate=function(t){var a=t.target.name,r=t.target.checked;e.setState((function(e){return{filtersMap:e.filtersMap.set(a,r)}}))},e.filtersMapClear=function(){e.setState({filtersMap:new Map})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=null;t=window.at_app_id,m.a.get("https://artsthread.com/wp-json/artsthread/v1/apps?app_id="+t).then((function(t){var a=t.data;e.setState({app_details:a}),e.setState({app_loaded:!0}),a.google_analytics_from_global?ke.a.initialize(a.google_analytics_id,{standardImplementation:!0}):ke.a.initialize(a.google_analytics_id)})).catch((function(t){e.setState({app_loading_error:!0})}))}},{key:"render",value:function(){var e=n.a.createElement(q,null);if(this.state.app_loading_error)e=n.a.createElement(R,null);else if(this.state.app_loaded){var t=this.state.app_details,a=t.padding_left,r=t.padding_right,i=t.padding_bottom,s={paddingLeft:a+"px",paddingRight:r+"px",paddingTop:t.padding_top+"px",paddingBottom:i+"px"},o=null;this.state.app_details.capitalise_buttons&&(o="cap-btns"),e=n.a.createElement("div",{style:s,className:o},n.a.createElement(qe,{app_details:this.state.app_details,app_loaded:this.state.app_loaded,random_seed:this.state.random_seed,projects:this.state.projects,projectUpdater:this.handleProjectsState,filtersMap:this.state.filtersMap,filtersMapUpdate:this.filtersMapUpdate,selectFiltersStateHandler:this.selectFiltersStateHandler,selectedFilters:this.state.filtersArray,filtersMapClear:this.filtersMapClear,updateProjectPageNumber:this.handleProjectPaginationChange,projectsPage:this.state.projectsPage,totalProjectCount:this.state.totalProjectCount,projectTotalUpdater:this.totalProjectsHandler}))}return e}}]),a}(r.Component),ze=function(e){return n.a.createElement(Re,null)},Je=a(113),Ye=a.n(Je);function Xe(){var e=Object(h.g)().pathname;return Object(r.useEffect)((function(){var e=document.getElementById("root").getBoundingClientRect().top;setTimeout((function(){window.scrollTo(0,e-145)}),100)}),[e]),null}var Qe=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(u.a,null,n.a.createElement(_.a,{basename:"/"},n.a.createElement(Xe,null),n.a.createElement("div",{className:Ye.a.app+" at-app-global"},n.a.createElement(ze,null))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(Qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){e.exports={Project__content:"Project_Project__content__30Hs8",Project__title:"Project_Project__title__2jrOY",Project__title__sub:"Project_Project__title__sub__2mw3S",Project__flex_col1:"Project_Project__flex_col1__3_MRE",Project:"Project_Project__1O8xo",Project__flex:"Project_Project__flex__1uMO0",Project__flex_col2:"Project_Project__flex_col2__SIyut"}},27:function(e,t,a){e.exports={email_form:"EmailForm_email_form__1QEpR",email_form__fields:"EmailForm_email_form__fields__2-XY8",email_form__email:"EmailForm_email_form__email__3sSPx",email_form__submit:"EmailForm_email_form__submit__1Gok6",email_form__checkboxlabel:"EmailForm_email_form__checkboxlabel__3twHY"}},30:function(e,t,a){e.exports={projectpreview:"ProjectPreview_projectpreview__2VXTu",projectpreview__imagelink:"ProjectPreview_projectpreview__imagelink__3xOCd",projectpreview__text:"ProjectPreview_projectpreview__text__2qZ44",projectpreview__text__p:"ProjectPreview_projectpreview__text__p__33ANO",projectpreview__meta:"ProjectPreview_projectpreview__meta__33oSS"}},38:function(e,t,a){e.exports={GallerySliderWrapper:"GallerySliderWrapper_GallerySliderWrapper__1DPqm",GallerySliderWrapper__image:"GallerySliderWrapper_GallerySliderWrapper__image__2yJxQ",GallerySliderWrapper__slide:"GallerySliderWrapper_GallerySliderWrapper__slide__2zm1V",GallerySliderWrapper__slick:"GallerySliderWrapper_GallerySliderWrapper__slick__3HNUD"}},50:function(e,t,a){e.exports={CourseLink:"CourseLink_CourseLink__3UQu2",CourseLink__media:"CourseLink_CourseLink__media__2OCzR",CourseLink__text:"CourseLink_CourseLink__text__ApmTp"}},66:function(e,t,a){e.exports={projectmeta:"ProjectMeta_projectmeta__rsmsO",projectmeta_single:"ProjectMeta_projectmeta_single__xICcX"}},69:function(e,t,a){e.exports={BackButton:"BackButton_BackButton__ScV12",BackButton__link:"BackButton_BackButton__link__qN4sR"}},99:function(e,t,a){e.exports={FilterCheckbox:"FilterCheckbox_FilterCheckbox__2rA2v"}}},[[122,1,2]]]);
//# sourceMappingURL=main.e3cd0f25.chunk.js.map